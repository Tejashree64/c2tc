{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams}from'react-router-dom';import CertificateService from'../services/CertificateService';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AddCertificateComponent=()=>{const[certificateName,setCertificateName]=useState('');const[issuingOrganization,setIssuingOrganization]=useState('');const[issueDate,setIssueDate]=useState('');const[studentId,setStudentId]=useState('');const[message,setMessage]=useState('');// For success/error messages\nconst[error,setError]=useState('');const{id}=useParams();// Get the certificate ID from the URL parameters\nuseEffect(()=>{if(id){CertificateService.getCertificateById(id).then(response=>{setCertificateName(response.data.certificateName);setIssuingOrganization(response.data.issuingOrganization);setIssueDate(response.data.issueDate);setStudentId(response.data.studentId);}).catch(error=>{console.error('Error fetching certificate:',error);setError('Error fetching certificate details.');});}},[id]);const saveOrUpdateCertificate=e=>{e.preventDefault();const certificate={certificateName,issuingOrganization,issueDate,studentId};if(id){// Update certificate\nCertificateService.updateCertificate(id,certificate).then(()=>setMessage('Certificate updated successfully.')).catch(error=>{console.error('Error updating certificate:',error);setError('Failed to update certificate. Please try again.');});}else{// Create new certificate\nCertificateService.createCertificate(certificate).then(()=>setMessage('Certificate created successfully.')).catch(error=>{console.error('Error creating certificate:',error);setError('Failed to create certificate. Please try again.');});}};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card col-md-6 offset-md-3 offset-md-3\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-center\",children:id?'Update Certificate':'Add Certificate'}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:saveOrUpdateCertificate,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Certificate Name:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter certificate name\",className:\"form-control\",value:certificateName,onChange:e=>setCertificateName(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Issuing Organization:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter issuing organization\",className:\"form-control\",value:issuingOrganization,onChange:e=>setIssuingOrganization(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Issue Date:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",className:\"form-control\",value:issueDate,onChange:e=>setIssueDate(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Student ID:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"form-control\",value:studentId,onChange:e=>setStudentId(e.target.value)})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-success\",type:\"submit\",children:\"Submit\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-danger\",onClick:()=>setMessage(''),children:\"Cancel\"})]}),message&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-success mt-2\",children:message}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger mt-2\",children:error})]})]})})})});};export default AddCertificateComponent;","map":{"version":3,"names":["React","useState","useEffect","useParams","CertificateService","jsx","_jsx","jsxs","_jsxs","AddCertificateComponent","certificateName","setCertificateName","issuingOrganization","setIssuingOrganization","issueDate","setIssueDate","studentId","setStudentId","message","setMessage","error","setError","id","getCertificateById","then","response","data","catch","console","saveOrUpdateCertificate","e","preventDefault","certificate","updateCertificate","createCertificate","children","className","onSubmit","type","placeholder","value","onChange","target","onClick"],"sources":["C:/Users/Teju/Desktop/sprint2/src/components/AddCertificateComponent.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport CertificateService from '../services/CertificateService';\r\n\r\nconst AddCertificateComponent = () => {\r\n    const [certificateName, setCertificateName] = useState('');\r\n    const [issuingOrganization, setIssuingOrganization] = useState('');\r\n    const [issueDate, setIssueDate] = useState('');\r\n    const [studentId, setStudentId] = useState('');\r\n    const [message, setMessage] = useState('');  // For success/error messages\r\n    const [error, setError] = useState('');\r\n    const { id } = useParams();  // Get the certificate ID from the URL parameters\r\n\r\n    useEffect(() => {\r\n        if (id) {\r\n            CertificateService.getCertificateById(id).then((response) => {\r\n                setCertificateName(response.data.certificateName);\r\n                setIssuingOrganization(response.data.issuingOrganization);\r\n                setIssueDate(response.data.issueDate);\r\n                setStudentId(response.data.studentId);\r\n            }).catch(error => {\r\n                console.error('Error fetching certificate:', error);\r\n                setError('Error fetching certificate details.');\r\n            });\r\n        }\r\n    }, [id]);\r\n\r\n    const saveOrUpdateCertificate = (e) => {\r\n        e.preventDefault();\r\n        const certificate = { certificateName, issuingOrganization, issueDate, studentId };\r\n\r\n        if (id) {\r\n            // Update certificate\r\n            CertificateService.updateCertificate(id, certificate)\r\n                .then(() => setMessage('Certificate updated successfully.'))\r\n                .catch(error => {\r\n                    console.error('Error updating certificate:', error);\r\n                    setError('Failed to update certificate. Please try again.');\r\n                });\r\n        } else {\r\n            // Create new certificate\r\n            CertificateService.createCertificate(certificate)\r\n                .then(() => setMessage('Certificate created successfully.'))\r\n                .catch(error => {\r\n                    console.error('Error creating certificate:', error);\r\n                    setError('Failed to create certificate. Please try again.');\r\n                });\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"container\">\r\n                <div className=\"row\">\r\n                    <div className=\"card col-md-6 offset-md-3 offset-md-3\">\r\n                        <h2 className=\"text-center\">{id ? 'Update Certificate' : 'Add Certificate'}</h2>\r\n                        <div className=\"card-body\">\r\n                            <form onSubmit={saveOrUpdateCertificate}>\r\n                                <div className=\"form-group mb-2\">\r\n                                    <label className=\"form-label\">Certificate Name:</label>\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        placeholder=\"Enter certificate name\"\r\n                                        className=\"form-control\"\r\n                                        value={certificateName}\r\n                                        onChange={(e) => setCertificateName(e.target.value)}\r\n                                    />\r\n                                </div>\r\n\r\n                                <div className=\"form-group mb-2\">\r\n                                    <label className=\"form-label\">Issuing Organization:</label>\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        placeholder=\"Enter issuing organization\"\r\n                                        className=\"form-control\"\r\n                                        value={issuingOrganization}\r\n                                        onChange={(e) => setIssuingOrganization(e.target.value)}\r\n                                    />\r\n                                </div>\r\n\r\n                                <div className=\"form-group mb-2\">\r\n                                    <label className=\"form-label\">Issue Date:</label>\r\n                                    <input\r\n                                        type=\"date\"\r\n                                        className=\"form-control\"\r\n                                        value={issueDate}\r\n                                        onChange={(e) => setIssueDate(e.target.value)}\r\n                                    />\r\n                                </div>\r\n\r\n                                <div className=\"form-group mb-2\">\r\n                                    <label className=\"form-label\">Student ID:</label>\r\n                                    <input\r\n                                        type=\"number\"\r\n                                        className=\"form-control\"\r\n                                        value={studentId}\r\n                                        onChange={(e) => setStudentId(e.target.value)}\r\n                                    />\r\n                                </div>\r\n\r\n                                <button className=\"btn btn-success\" type=\"submit\">\r\n                                    Submit\r\n                                </button>\r\n                                <button type=\"button\" className=\"btn btn-danger\" onClick={() => setMessage('')}>\r\n                                    Cancel\r\n                                </button>\r\n                            </form>\r\n\r\n                            {/* Display success or error messages */}\r\n                            {message && <div className=\"alert alert-success mt-2\">{message}</div>}\r\n                            {error && <div className=\"alert alert-danger mt-2\">{error}</div>}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default AddCertificateComponent;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}