{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import CertificateService from'../services/CertificateService';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ListCertificateComponent=()=>{const[certificates,setCertificates]=useState([]);useEffect(()=>{getAllCertificates();},[]);const getAllCertificates=()=>{CertificateService.getAllCertificates().then(response=>{setCertificates(response.data);}).catch(error=>{console.error(\"There was an error fetching the certificates!\",error);alert(\"Failed to load certificates. Please try again.\");});};const deleteCertificate=certificateId=>{CertificateService.deleteCertificate(certificateId).then(()=>{getAllCertificates();// Refresh the certificate list after deletion\n}).catch(error=>{console.error(\"There was an error deleting the certificate!\",error);alert(\"Failed to delete certificate. Please try again.\");});};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-center\",children:\" List Certificates \"}),/*#__PURE__*/_jsx(Link,{to:\"/add-certificate\",className:\"btn btn-primary mb-2\",children:\" Add Certificate \"}),/*#__PURE__*/_jsxs(\"table\",{className:\"table table-bordered table-striped\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Certificate Id\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Certificate Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Issuing Organization\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Issue Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Student ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:certificates.map(certificate=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:certificate.id}),/*#__PURE__*/_jsx(\"td\",{children:certificate.certificateName}),/*#__PURE__*/_jsx(\"td\",{children:certificate.issuingOrganization}),/*#__PURE__*/_jsx(\"td\",{children:certificate.issueDate}),/*#__PURE__*/_jsx(\"td\",{children:certificate.studentId}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(Link,{className:\"btn btn-info\",to:`/edit-certificate/${certificate.id}`,children:\"Update\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger\",onClick:()=>deleteCertificate(certificate.id),style:{marginLeft:\"10px\"},children:\"Delete\"})]})]},certificate.id))})]})]});};export default ListCertificateComponent;","map":{"version":3,"names":["React","useState","useEffect","Link","CertificateService","jsx","_jsx","jsxs","_jsxs","ListCertificateComponent","certificates","setCertificates","getAllCertificates","then","response","data","catch","error","console","alert","deleteCertificate","certificateId","className","children","to","map","certificate","id","certificateName","issuingOrganization","issueDate","studentId","onClick","style","marginLeft"],"sources":["C:/Users/Teju/Desktop/sprint2/src/components/ListCertificateComponent.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport CertificateService from '../services/CertificateService';\r\n\r\nconst ListCertificateComponent = () => {\r\n    const [certificates, setCertificates] = useState([]);\r\n\r\n    useEffect(() => {\r\n        getAllCertificates();\r\n    }, []);\r\n\r\n    const getAllCertificates = () => {\r\n        CertificateService.getAllCertificates()\r\n            .then((response) => {\r\n                setCertificates(response.data);\r\n            })\r\n            .catch((error) => {\r\n                console.error(\"There was an error fetching the certificates!\", error);\r\n                alert(\"Failed to load certificates. Please try again.\");\r\n            });\r\n    }\r\n\r\n    const deleteCertificate = (certificateId) => {\r\n        CertificateService.deleteCertificate(certificateId)\r\n            .then(() => {\r\n                getAllCertificates();  // Refresh the certificate list after deletion\r\n            })\r\n            .catch((error) => {\r\n                console.error(\"There was an error deleting the certificate!\", error);\r\n                alert(\"Failed to delete certificate. Please try again.\");\r\n            });\r\n    }\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            <h2 className=\"text-center\"> List Certificates </h2>\r\n            <Link to=\"/add-certificate\" className=\"btn btn-primary mb-2\"> Add Certificate </Link>\r\n            <table className=\"table table-bordered table-striped\">\r\n                <thead>\r\n                    <tr>\r\n                        <th>Certificate Id</th>\r\n                        <th>Certificate Name</th>\r\n                        <th>Issuing Organization</th>\r\n                        <th>Issue Date</th>\r\n                        <th>Student ID</th>\r\n                        <th>Actions</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {certificates.map((certificate) => (\r\n                        <tr key={certificate.id}>\r\n                            <td>{certificate.id}</td>\r\n                            <td>{certificate.certificateName}</td>\r\n                            <td>{certificate.issuingOrganization}</td>\r\n                            <td>{certificate.issueDate}</td>\r\n                            <td>{certificate.studentId}</td>\r\n                            <td>\r\n                                <Link className=\"btn btn-info\" to={`/edit-certificate/${certificate.id}`}>Update</Link>\r\n                                <button className=\"btn btn-danger\" onClick={() => deleteCertificate(certificate.id)} style={{ marginLeft: \"10px\" }}>\r\n                                    Delete\r\n                                </button>\r\n                            </td>\r\n                        </tr>\r\n                    ))}\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ListCertificateComponent;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}